{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/discovery/Documents/secure-frontend/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$();\n\nimport React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect, Link } from 'react-router-dom';\nimport { AppBar, Tabs, Tab } from '@material-ui/core';\nimport AuthApi from \"./AuthApi\";\nimport Cookies from 'js-cookie';\nimport OtpInput from 'react-otp-input';\nimport Modal from 'react-bootstrap/Modal';\n\nfunction App() {\n  _s();\n\n  const [auth, setAuth] = React.useState(false);\n\n  const readCookie = () => {\n    const user = Cookies.get(\"user\");\n    console.log(\"user in readCookie --> \" + user);\n    console.log(\"nodalUser in readCookie --> \" + Cookies.get(\"nodalUser\"));\n    console.log(\"studyCntrUser in readCookie --> \" + Cookies.get(\"studyCntrUser\"));\n\n    if (user) {\n      setAuth(true);\n    }\n  };\n\n  React.useEffect(() => {\n    readCookie();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(AuthApi.Provider, {\n      value: {\n        auth,\n        setAuth\n      },\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(Routes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"7dXJltoL392rVm1xFgcdCG4Y7Dw=\");\n\n_c = App;\n\nconst NodalLogin = () => {\n  _s2();\n\n  const [phone, setPhone] = React.useState(\"\");\n  const [errors, setErrors] = React.useState({});\n  const [showModal, setShowModal] = React.useState(false);\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [displayOtpForm, setDisplayOtpForm] = React.useState(false);\n  const [show, setShow] = React.useState(false);\n  const [otpSentSessionId, setOtpSentSessionId] = React.useState(\"\");\n  const [studentId, setStudentId] = React.useState(\"\");\n\n  async function handleSendOTP() {\n    console.log(\"sending otp to \" + phone);\n    let endPoint = \"https://2factor.in/API/V1/4db73c1e-4cfa-11eb-8153-0200cd936042/SMS/\" + phone + \"/AUTOGEN\";\n    await fetch(endPoint).then(res => res.json()).then(data => {\n      setOtpSentSessionId(data.Details);\n    }).catch(console.log);\n    console.log(\"otp sent sessionID >> \" + otpSentSessionId);\n  }\n\n  function checkExistingStudent(input) {\n    console.log(\"In checkExistingStudent...\");\n    let result = false;\n    let endPoint = \"http://159.203.148.240:8080/api/v1/Student/\" + input;\n    fetch(endPoint).then(res => {\n      if (!res.ok) {\n        result = false;\n        Cookies.set(\"user\", \"loginTrue\");\n        Cookies.set(\"nodalUser\", \"loginTrue\");\n        Auth.setAuth(true);\n        console.log(\"No Student found with the number \" + input + \" redirecting to new application!\");\n      } else {\n        result = true;\n        console.log(\"Found an existing record with the number \" + input + \" enrolled, fethcing record!\");\n        fetch(\"http://159.203.148.240:8080/api/v1/Student/\" + phone).then(resp => resp.json()).then(data => {\n          console.log(\"Existing student details --> \" + JSON.stringify(data));\n          setStudentId(data.student_id);\n          Cookies.set(\"studentFound\", \"true\");\n          Cookies.set(\"user\", \"loginTrue\");\n          Cookies.set(\"nodalUser\", \"loginTrue\");\n          Auth.setAuth(true);\n        });\n      }\n    }).catch(console.log);\n    return result;\n  }\n\n  async function verifyOTP(otpReceived) {\n    console.log(otpReceived);\n    let validMobile = false;\n    let endPoint = \"https://2factor.in/API/V1/4db73c1e-4cfa-11eb-8153-0200cd936042/SMS/VERIFY/\" + otpSentSessionId + \"/\" + otpReceived;\n    await fetch(endPoint).then(res => {\n      console.log(\"otp verification >> \" + res.staus);\n\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      } else {\n        console.log(\"Status: OK\");\n        validMobile = true;\n      }\n    }).catch(console.log);\n    return validMobile;\n  }\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => {\n    console.log(\"In handleOnClick...\");\n    console.log(\"sending otp\"); //handleSendOTP();\n\n    console.log(\"Otp sent successfully\");\n    setShow(true);\n  };\n\n  const Auth = React.useContext(AuthApi);\n  const [otp, setOtp] = React.useState(\"\");\n\n  const handleChange = otp => {\n    setOtp(otp);\n    console.log(\"Otp entered is \" + otp);\n  };\n\n  const handleOTPSubmit = () => {\n    console.log(\"verify otp\" + otp); // verifyOTP(otp).then(bool => {\n    //   console.log(\"otp valid \" + bool)\n    //   Cookies.set(\"user\", \"loginTrue\");\n    //   Cookies.set(\"nodalUser\", \"loginTrue\");\n    //   Auth.setAuth(true);\n    //   window.nodalLoggedIn = true;\n    //   window.studyCntrLoggedIn = false;\n    //   window.homePage = false;\n    // });\n\n    Cookies.set(\"user\", \"loginTrue\");\n    console.log(Cookies.get(\"user\"));\n\n    if (Cookies.get(\"user\") == \"loginTrue\") {\n      checkExistingStudent(phone);\n    }\n  };\n\n  const handlePhone = e => {\n    setPhone(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Phone\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"tel\",\n        name: \"phone\",\n        onChange: handlePhone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          variant: \"primary\",\n          onClick: handleShow,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          size: \"sm\",\n          show: show,\n          onHide: handleClose,\n          \"aria-labelledby\": \"example-modal-sizes-title-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Verify OTP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: /*#__PURE__*/_jsxDEV(OtpInput, {\n              value: otp,\n              onChange: handleChange,\n              numInputs: 6,\n              separator: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 24\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              variant: \"secondary\",\n              onClick: handleClose,\n              children: \"Change Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              variant: \"primary\",\n              onClick: handleOTPSubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(NodalLogin, \"4owVIEVo1xvn4Gt9SePBnqYCxIw=\");\n\n_c2 = NodalLogin;\n\nconst StudyCntrLogin = () => {\n  _s3();\n\n  const Auth = React.useContext(AuthApi);\n\n  const handleOnClick = () => {\n    Cookies.set(\"user\", \"loginTrue\");\n    Cookies.set(\"studyCntrUser\", \"loginTrue\");\n    Auth.setAuth(true);\n    window.studyCntrLoggedIn = true;\n    window.nodalLoggedIn = false;\n    window.homePage = false;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOnClick,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(StudyCntrLogin, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c3 = StudyCntrLogin;\n\nconst NodalDashboard = () => {\n  _s4();\n\n  const Auth = React.useContext(AuthApi);\n\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    Cookies.remove(\"user\");\n    Cookies.remove(\"nodalUser\");\n    window.studyCntrLoggedIn = false;\n    window.nodalLoggedIn = false;\n    window.homePage = true;\n  };\n\n  var found = false;\n\n  if (Cookies.get(\"studentFound\") === \"true\") {\n    console.log(\"Student found!\");\n    found = true;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Nodal Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), found ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: Cookies.get(\"studentFound\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Display Student Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOnClick,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(NodalDashboard, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c4 = NodalDashboard;\n\nconst StudyCntrDashboard = () => {\n  _s5();\n\n  const Auth = React.useContext(AuthApi);\n\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    Cookies.remove(\"user\");\n    Cookies.remove(\"studyCntrUser\");\n    window.nodalLoggedIn = false;\n    window.studyCntrLoggedIn = false;\n    window.homePage = true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Study Center Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOnClick,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n};\n\n_s5(StudyCntrDashboard, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c5 = StudyCntrDashboard;\n\nconst HomeComponent = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"SVUDDE Online Application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 11\n  }, this);\n};\n\n_c6 = HomeComponent;\n\nconst Routes = () => {\n  _s6();\n\n  const Auth = React.useContext(AuthApi);\n  const [value, setValue] = React.useState(0);\n\n  const handleTabs = (e, val) => {\n    console.warn(\"tab value is \" + val);\n    setValue(val);\n  };\n\n  var displayHome = true;\n  var nodalUserVal = Cookies.get(\"nodalUser\");\n  var displayNodal = false;\n\n  if (nodalUserVal) {\n    console.log(\"Set Display Nodal User True\");\n    displayNodal = true;\n    displayHome = false;\n  }\n\n  var studyCntrUserVal = Cookies.get(\"studyCntrUser\");\n  var displayStudyCntr = false;\n\n  if (studyCntrUserVal) {\n    console.log(\"Set Display Study Center User True\");\n    displayStudyCntr = true;\n    displayHome = false;\n  }\n\n  console.log(\"users --> \" + \" Nodal value -> \" + nodalUserVal + \" Study Center value -> \" + studyCntrUserVal);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: [displayNodal && /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleTabs,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Home\",\n          component: Link,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Dashboard\",\n          component: Link,\n          to: \"/nodalDashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 24\n      }, this), displayStudyCntr && /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleTabs,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Home\",\n          component: Link,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Dashboard\",\n          component: Link,\n          to: \"/studyCntrDashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 28\n      }, this), displayHome && /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleTabs,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Home\",\n          component: Link,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Study Center\",\n          component: Link,\n          to: \"/studyCntrLogin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Nodal\",\n          component: Link,\n          to: \"/nodalLogin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"switch\", {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        component: HomeComponent,\n        auth: Auth.auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedStudyCntrLogin, {\n        path: \"/studyCntrLogin\",\n        component: StudyCntrLogin,\n        auth: Auth.auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedNodalLogin, {\n        path: \"/nodalLogin\",\n        component: NodalLogin,\n        auth: Auth.auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedNodalRoute, {\n        path: \"/nodalDashboard\",\n        auth: Auth.auth,\n        component: NodalDashboard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedStudyCntrRoute, {\n        path: \"/studyCntrDashboard\",\n        auth: Auth.auth,\n        component: StudyCntrDashboard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 321,\n    columnNumber: 5\n  }, this);\n};\n\n_s6(Routes, \"SvxOwvnjx/2ucgU1+PdVeTjqNFY=\");\n\n_c7 = Routes;\n\nconst ProtectedStudyCntrRoute = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/studyCntrLogin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 5\n  }, this);\n};\n\n_c8 = ProtectedStudyCntrRoute;\n\nconst ProtectedNodalRoute = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/nodalLogin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n};\n\n_c9 = ProtectedNodalRoute;\n\nconst ProtectedNodalLogin = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => !auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/nodalDashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 384,\n    columnNumber: 5\n  }, this);\n};\n\n_c10 = ProtectedNodalLogin;\n\nconst ProtectedStudyCntrLogin = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => !auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/studyCntrDashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 398,\n    columnNumber: 5\n  }, this);\n};\n\n_c11 = ProtectedStudyCntrLogin;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"NodalLogin\");\n$RefreshReg$(_c3, \"StudyCntrLogin\");\n$RefreshReg$(_c4, \"NodalDashboard\");\n$RefreshReg$(_c5, \"StudyCntrDashboard\");\n$RefreshReg$(_c6, \"HomeComponent\");\n$RefreshReg$(_c7, \"Routes\");\n$RefreshReg$(_c8, \"ProtectedStudyCntrRoute\");\n$RefreshReg$(_c9, \"ProtectedNodalRoute\");\n$RefreshReg$(_c10, \"ProtectedNodalLogin\");\n$RefreshReg$(_c11, \"ProtectedStudyCntrLogin\");","map":{"version":3,"sources":["/home/discovery/Documents/secure-frontend/src/App.js"],"names":["React","BrowserRouter","Router","Switch","Route","Redirect","Link","AppBar","Tabs","Tab","AuthApi","Cookies","OtpInput","Modal","App","auth","setAuth","useState","readCookie","user","get","console","log","useEffect","NodalLogin","phone","setPhone","errors","setErrors","showModal","setShowModal","modalOpen","setModalOpen","loading","setLoading","displayOtpForm","setDisplayOtpForm","show","setShow","otpSentSessionId","setOtpSentSessionId","studentId","setStudentId","handleSendOTP","endPoint","fetch","then","res","json","data","Details","catch","checkExistingStudent","input","result","ok","set","Auth","resp","JSON","stringify","student_id","verifyOTP","otpReceived","validMobile","staus","Error","status","handleClose","handleShow","useContext","otp","setOtp","handleChange","handleOTPSubmit","handlePhone","e","target","value","StudyCntrLogin","handleOnClick","window","studyCntrLoggedIn","nodalLoggedIn","homePage","NodalDashboard","remove","found","StudyCntrDashboard","HomeComponent","Routes","setValue","handleTabs","val","warn","displayHome","nodalUserVal","displayNodal","studyCntrUserVal","displayStudyCntr","ProtectedStudyCntrRoute","component","Component","rest","ProtectedNodalRoute","ProtectedNodalLogin","ProtectedStudyCntrLogin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  Link\n} from 'react-router-dom';\nimport { AppBar, Tabs, Tab } from '@material-ui/core';\nimport AuthApi from \"./AuthApi\";\nimport Cookies from 'js-cookie';\nimport OtpInput from 'react-otp-input';\nimport Modal from 'react-bootstrap/Modal'\n\n\nfunction App() {\n  const [auth, setAuth] = React.useState(false);\n\n  const readCookie = () => {\n    const user = Cookies.get(\"user\");\n    console.log(\"user in readCookie --> \" + user);\n    console.log(\"nodalUser in readCookie --> \" + Cookies.get(\"nodalUser\"));\n    console.log(\"studyCntrUser in readCookie --> \" + Cookies.get(\"studyCntrUser\"));\n    if(user) {\n      setAuth(true);\n    }\n  }\n  \n  React.useEffect(() => {\n    readCookie();\n  }, [])\n\n\n  return (\n    <div className=\"App\">\n      <AuthApi.Provider value={{auth,setAuth}}>\n      <Router>\n        <Routes />\n      </Router>\n      </AuthApi.Provider>\n    </div>\n  );\n}\n\n\n\n\nconst NodalLogin = () => {\n\n  const [phone, setPhone] = React.useState(\"\");\n  const [errors, setErrors] = React.useState({});\n  const [showModal, setShowModal] = React.useState(false);\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [displayOtpForm, setDisplayOtpForm] = React.useState(false);\n  const [show, setShow] = React.useState(false);\n  const [otpSentSessionId, setOtpSentSessionId] = React.useState(\"\");\n  const [studentId, setStudentId] = React.useState(\"\");\n\n  async function handleSendOTP() {\n    console.log(\"sending otp to \" + phone);\n    let endPoint = \"https://2factor.in/API/V1/4db73c1e-4cfa-11eb-8153-0200cd936042/SMS/\"\n        + phone + \"/AUTOGEN\";\n    await fetch(endPoint)\n        .then(res => res.json())\n        .then((data) => {\n          setOtpSentSessionId(data.Details);\n        })\n        .catch(console.log)\n    console.log(\"otp sent sessionID >> \" + otpSentSessionId);\n    \n  }\n  \n   function checkExistingStudent(input) {\n    console.log(\"In checkExistingStudent...\")\n    let result = false;\n    let endPoint = \"http://159.203.148.240:8080/api/v1/Student/\" + input;\n     fetch(endPoint)\n        .then(res => {\n          if(!res.ok) {\n            result = false;\n            Cookies.set(\"user\", \"loginTrue\");\n            Cookies.set(\"nodalUser\", \"loginTrue\");\n            Auth.setAuth(true);\n            console.log(\"No Student found with the number \" + input \n                + \" redirecting to new application!\");\n          } else {\n            result = true;\n            console.log(\"Found an existing record with the number \" + input\n                + \" enrolled, fethcing record!\");\n  \n            fetch(\"http://159.203.148.240:8080/api/v1/Student/\" + phone)\n                .then(resp => resp.json())\n                .then((data) => {\n                  console.log(\"Existing student details --> \" + JSON.stringify(data));\n                  setStudentId(data.student_id);\n                  Cookies.set(\"studentFound\", \"true\");\n                  Cookies.set(\"user\", \"loginTrue\");\n                  Cookies.set(\"nodalUser\", \"loginTrue\");\n                  Auth.setAuth(true);\n                })\n          }\n        }\n        ).catch(console.log);\n        return result;\n  }\n  \n   async function verifyOTP(otpReceived) {\n    console.log(otpReceived);\n    let validMobile = false;\n    let endPoint = \"https://2factor.in/API/V1/4db73c1e-4cfa-11eb-8153-0200cd936042/SMS/VERIFY/\"\n        + otpSentSessionId + \"/\" + otpReceived;\n    await fetch(endPoint)\n        .then(res => {\n          console.log(\"otp verification >> \" + res.staus);\n          if(!res.ok) {\n                throw new Error(`HTTP error! status: ${res.status}`);\n            } else {\n                console.log(\"Status: OK\");\n                validMobile = true;\n            }           \n        })\n        .catch(console.log);\n    return validMobile;\n  }\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => {\n    console.log(\"In handleOnClick...\");\n    console.log(\"sending otp\");\n    //handleSendOTP();\n    console.log(\"Otp sent successfully\");\n    setShow(true);\n    \n  }\n\n  \n\n  const Auth = React.useContext(AuthApi);\n  const [otp, setOtp] = React.useState(\"\");\n\n  const handleChange = otp => {\n    setOtp(otp);\n    console.log(\"Otp entered is \" + otp)\n  }\n  \n  const handleOTPSubmit = () => {\n      console.log(\"verify otp\" + otp);\n      \n      // verifyOTP(otp).then(bool => {\n      //   console.log(\"otp valid \" + bool)\n      //   Cookies.set(\"user\", \"loginTrue\");\n      //   Cookies.set(\"nodalUser\", \"loginTrue\");\n      //   Auth.setAuth(true);\n      //   window.nodalLoggedIn = true;\n      //   window.studyCntrLoggedIn = false;\n      //   window.homePage = false;\n      // });\n\n      Cookies.set(\"user\", \"loginTrue\");\n      console.log(Cookies.get(\"user\"));\n      if(Cookies.get(\"user\") == \"loginTrue\") {\n        checkExistingStudent(phone);\n      }\n  }\n\n  const handlePhone = (e) => {\n    setPhone(e.target.value)\n  }\n\n  return (\n    <div>\n      <label>\n        Phone\n        <input\n        type=\"tel\"\n        name=\"phone\"\n        onChange={handlePhone}\n      />\n      </label>\n      <div className=\"form-group\">\n      <>\n      <button variant=\"primary\" onClick={handleShow}>\n        Login\n      </button>\n\n      <Modal size=\"sm\" show={show} onHide={handleClose} \n          aria-labelledby=\"example-modal-sizes-title-sm\">\n        <Modal.Header closeButton>\n          <Modal.Title>Verify OTP</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <OtpInput\n            value={otp}\n            onChange={handleChange}\n            numInputs={6}\n            separator={<span>-</span>}\n          />\n        </Modal.Body>\n        <Modal.Footer>\n          <button variant=\"secondary\" onClick={handleClose}>\n            Change Number\n          </button>\n          <button variant=\"primary\" onClick={handleOTPSubmit}>\n            Submit\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n      </div>\n      \n    </div>\n\n    \n  )\n}\n\nconst StudyCntrLogin = () => {\n  const Auth = React.useContext(AuthApi);\n  const handleOnClick = () => {\n    Cookies.set(\"user\", \"loginTrue\");\n    Cookies.set(\"studyCntrUser\", \"loginTrue\");\n    Auth.setAuth(true);\n    window.studyCntrLoggedIn = true;\n    window.nodalLoggedIn = false;\n    window.homePage = false;\n  }\n  return (\n    <div>\n      <button onClick={handleOnClick}>Login</button>\n    </div>\n  )\n}\n\nconst NodalDashboard = () => {\n  const Auth = React.useContext(AuthApi);\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    Cookies.remove(\"user\");\n    Cookies.remove(\"nodalUser\");\n    window.studyCntrLoggedIn = false;\n    window.nodalLoggedIn = false;\n    window.homePage = true;\n  }\n\n  \n  var found = false;\n  if(Cookies.get(\"studentFound\") === \"true\") {\n    console.log(\"Student found!\" );\n    found = true;\n  }\n\n  return(\n    <div>\n      <h1>Nodal Dashboard</h1>\n      {found? <div>\n          <h1>{Cookies.get(\"studentFound\")}</h1>\n        </div>: <h1>Display Student Form</h1>}\n\n      <button onClick={handleOnClick}>Logout</button>\n    </div>\n  )\n}\n\nconst StudyCntrDashboard = () => {\n  const Auth = React.useContext(AuthApi);\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    Cookies.remove(\"user\");\n    Cookies.remove(\"studyCntrUser\");\n    window.nodalLoggedIn = false;\n    window.studyCntrLoggedIn = false;\n    window.homePage = true;\n  }\n  return(\n    <div>\n      <h1>Study Center Dashboard</h1>\n      <button onClick={handleOnClick}>Logout</button>\n    </div>\n  )\n}\n\nconst HomeComponent= () => {\n      return(\n          <div>\n            <p>SVUDDE Online Application</p>\n          </div>  \n      )\n}\n\nconst Routes = () => {\n  const Auth = React.useContext(AuthApi);\n  const [value, setValue] = React.useState(0);\n\n  const handleTabs = (e, val) => {\n    console.warn(\"tab value is \" + val)\n    setValue(val);\n\n    \n  }\n  var displayHome = true;\n  var nodalUserVal = Cookies.get(\"nodalUser\");\n  var displayNodal = false;\n  if(nodalUserVal) {\n    console.log(\"Set Display Nodal User True\");\n    displayNodal = true;\n    displayHome = false;\n  }\n\n  var studyCntrUserVal = Cookies.get(\"studyCntrUser\");\n  var displayStudyCntr = false;\n  if(studyCntrUserVal) {\n    console.log(\"Set Display Study Center User True\");\n    displayStudyCntr = true;\n    displayHome = false;\n  }\n\n  console.log(\"users --> \" + \" Nodal value -> \" + nodalUserVal + \" Study Center value -> \" + studyCntrUserVal)\n\n  return(\n    <div>\n    <AppBar position=\"static\" >\n      {displayNodal && <Tabs value={value} onChange={handleTabs} >\n        <Tab label=\"Home\"  component={Link} to=\"/\"/>\n        <Tab label=\"Dashboard\" component={Link} to=\"/nodalDashboard\" />\n      </Tabs>}\n\n      {displayStudyCntr && <Tabs value={value} onChange={handleTabs} >\n        <Tab label=\"Home\"  component={Link} to=\"/\"/>\n        <Tab label=\"Dashboard\" component={Link} to=\"/studyCntrDashboard\" />\n      </Tabs>}\n\n      {displayHome && \n        <Tabs value={value} onChange={handleTabs} >\n        <Tab label=\"Home\"  component={Link} to=\"/\"/>\n        <Tab label=\"Study Center\" component={Link} to=\"/studyCntrLogin\"/>\n        <Tab label=\"Nodal\" component={Link} to=\"/nodalLogin\"/>\n      </Tabs>}\n\n    </AppBar>\n    <switch>\n      <Route path=\"/\" component={HomeComponent} auth={Auth.auth}/>\n      <ProtectedStudyCntrLogin path=\"/studyCntrLogin\" component={StudyCntrLogin} auth={Auth.auth} />\n      <ProtectedNodalLogin path=\"/nodalLogin\" component={NodalLogin} auth={Auth.auth} />\n      <ProtectedNodalRoute path=\"/nodalDashboard\" auth={Auth.auth} component={NodalDashboard} />\n      <ProtectedStudyCntrRoute path=\"/studyCntrDashboard\" auth={Auth.auth} component={StudyCntrDashboard} />\n    </switch>\n    </div>\n  )\n}\n\nconst ProtectedStudyCntrRoute = ({auth, component: Component, ...rest}) => {\n  return(\n    <Route\n    {...rest}\n    render = {() => auth? (\n      <Component />\n      \n    ): (\n      <Redirect to=\"/studyCntrLogin\" />\n    )\n    }\n    />\n  )\n}\n\nconst ProtectedNodalRoute = ({auth, component: Component, ...rest}) => {\n  return(\n    <Route\n    {...rest}\n    render = {() => auth? (\n      <Component />\n      \n    ): (\n      <Redirect to=\"/nodalLogin\" />\n    )\n    }\n    />\n  )\n}\n\nconst ProtectedNodalLogin = ({auth, component: Component, ...rest}) => {\n  return(\n    <Route\n    {...rest}\n    render = {() => !auth? (\n      <Component />\n    ): (\n      <Redirect to=\"/nodalDashboard\" />\n    )\n    }\n    />\n  )\n}\n\nconst ProtectedStudyCntrLogin = ({auth, component: Component, ...rest}) => {\n  return(\n    <Route\n    {...rest}\n    render = {() => !auth? (\n      <Component />\n    ): (\n      <Redirect to=\"/studyCntrDashboard\" />\n    )\n    }\n    />\n  )\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}