{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/discovery/Documents/secure-frontend/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$();\n\nimport React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect, Link } from 'react-router-dom';\nimport { AppBar, Tabs, Tab } from '@material-ui/core';\nimport AuthApi from \"./AuthApi\";\nimport Cookies from 'js-cookie';\nimport OtpInput from 'react-otp-input';\nimport Modal from 'react-bootstrap/Modal';\nimport BetterUser from './BetterUser';\nimport Home from './Home';\n\nfunction App() {\n  _s();\n\n  const [auth, setAuth] = React.useState(false);\n\n  const readCookie = () => {\n    const user = Cookies.get(\"user\");\n    console.log(\"user in readCookie --> \" + user);\n    console.log(\"nodalUser in readCookie --> \" + Cookies.get(\"nodalUser\"));\n    console.log(\"studyCntrUser in readCookie --> \" + Cookies.get(\"studyCntrUser\"));\n\n    if (user) {\n      setAuth(true);\n    }\n  };\n\n  React.useEffect(() => {\n    readCookie();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(AuthApi.Provider, {\n      value: {\n        auth,\n        setAuth\n      },\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(Routes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"7dXJltoL392rVm1xFgcdCG4Y7Dw=\");\n\n_c = App;\n\nconst NodalLogin = () => {\n  _s2();\n\n  const [phone, setPhone] = React.useState(\"\");\n  const [errors, setErrors] = React.useState({});\n  const [showModal, setShowModal] = React.useState(false);\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [displayOtpForm, setDisplayOtpForm] = React.useState(false);\n  const [show, setShow] = React.useState(false);\n  const [otpSentSessionId, setOtpSentSessionId] = React.useState(\"\");\n  const [studentId, setStudentId] = React.useState(\"\");\n\n  async function handleSendOTP() {\n    console.log(\"sending otp to \" + phone);\n    let endPoint = \"https://2factor.in/API/V1/4db73c1e-4cfa-11eb-8153-0200cd936042/SMS/\" + phone + \"/AUTOGEN\";\n    await fetch(endPoint).then(res => res.json()).then(data => {\n      setOtpSentSessionId(data.Details);\n    }).catch(console.log);\n    console.log(\"otp sent sessionID >> \" + otpSentSessionId);\n  }\n\n  function checkExistingStudent(input) {\n    console.log(\"In checkExistingStudent...\");\n    let result = false;\n    let endPoint = \"http://159.203.148.240:8080/api/v1/Student/\" + input;\n    fetch(endPoint).then(res => {\n      if (!res.ok) {\n        result = false;\n        Cookies.set(\"user\", \"loginTrue\");\n        Cookies.set(\"nodalUser\", \"loginTrue\");\n        Auth.setAuth(true);\n        console.log(\"No Student found with the number \" + input + \" redirecting to new application!\");\n      } else {\n        result = true;\n        console.log(\"Found an existing record with the number \" + input + \" enrolled, fethcing record!\");\n        fetch(\"http://159.203.148.240:8080/api/v1/Student/\" + phone).then(resp => resp.json()).then(data => {\n          console.log(\"Existing student details --> \" + JSON.stringify(data));\n          setStudentId(data.student_id);\n          Cookies.set(\"studentFound\", \"true\");\n          Cookies.set(\"studentId\", data.student_id);\n          Cookies.set(\"user\", \"loginTrue\");\n          Cookies.set(\"nodalUser\", \"loginTrue\");\n          Auth.setAuth(true);\n        });\n      }\n    }).catch(console.log);\n    return result;\n  }\n\n  async function verifyOTP(otpReceived) {\n    console.log(otpReceived);\n    let validMobile = false;\n    let endPoint = \"https://2factor.in/API/V1/4db73c1e-4cfa-11eb-8153-0200cd936042/SMS/VERIFY/\" + otpSentSessionId + \"/\" + otpReceived;\n    await fetch(endPoint).then(res => {\n      console.log(\"otp verification >> \" + res.staus);\n\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      } else {\n        console.log(\"Status: OK\");\n        validMobile = true;\n      }\n    }).catch(console.log);\n    return validMobile;\n  }\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => {\n    console.log(\"In handleOnClick...\");\n    console.log(\"sending otp\"); //handleSendOTP();\n\n    console.log(\"Otp sent successfully\");\n    setShow(true);\n  };\n\n  const Auth = React.useContext(AuthApi);\n  const [otp, setOtp] = React.useState(\"\");\n\n  const handleChange = otp => {\n    setOtp(otp);\n    console.log(\"Otp entered is \" + otp);\n  };\n\n  const handleOTPSubmit = () => {\n    console.log(\"verify otp\" + otp); // verifyOTP(otp).then(bool => {\n    //   console.log(\"otp valid \" + bool)\n    //   Cookies.set(\"user\", \"loginTrue\");\n    //   Cookies.set(\"nodalUser\", \"loginTrue\");\n    //   Auth.setAuth(true);\n    //   window.nodalLoggedIn = true;\n    //   window.studyCntrLoggedIn = false;\n    //   window.homePage = false;\n    // });\n\n    Cookies.set(\"user\", \"loginTrue\");\n    console.log(Cookies.get(\"user\"));\n\n    if (Cookies.get(\"user\") == \"loginTrue\") {\n      checkExistingStudent(phone);\n    }\n  };\n\n  const handlePhone = e => {\n    setPhone(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Phone\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"tel\",\n        name: \"phone\",\n        onChange: handlePhone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          variant: \"primary\",\n          onClick: handleShow,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          size: \"sm\",\n          show: show,\n          onHide: handleClose,\n          \"aria-labelledby\": \"example-modal-sizes-title-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Verify OTP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: /*#__PURE__*/_jsxDEV(OtpInput, {\n              value: otp,\n              onChange: handleChange,\n              numInputs: 6,\n              separator: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 24\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              variant: \"secondary\",\n              onClick: handleClose,\n              children: \"Change Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              variant: \"primary\",\n              onClick: handleOTPSubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(NodalLogin, \"4owVIEVo1xvn4Gt9SePBnqYCxIw=\");\n\n_c2 = NodalLogin;\n\nconst StudyCntrLogin = () => {\n  _s3();\n\n  const Auth = React.useContext(AuthApi);\n  const [input, setInput] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (validate()) {\n      alert(\"User Name and Password Entered ->  \" + input[\"username\"]);\n      Cookies.set(\"username\", input[\"username\"]);\n      Cookies.set(\"user\", \"loginTrue\");\n      Cookies.set(\"studyCntrUser\", \"loginTrue\");\n      Auth.setAuth(true);\n    } else {\n      resetForm();\n    }\n  };\n\n  const handleChange = event => {\n    let userInput = input;\n    userInput[event.target.name] = event.target.value;\n    setInput(userInput);\n  };\n\n  const resetForm = () => {\n    Array.from(document.querySelectorAll(\"input\")).forEach(input => input.value = \"\");\n    setInput({});\n  };\n\n  const validate = () => {\n    let userInput = input;\n    let userErrors = {};\n    let isValid = true;\n\n    if (!userInput[\"username\"]) {\n      isValid = false;\n      userErrors[\"username\"] = \"Please enter your username.\";\n      resetForm();\n    }\n\n    if (typeof userInput[\"username\"] !== \"undefined\") {\n      const re = /^\\S*$/;\n\n      if (userInput[\"username\"].length < 6 || !re.test(userInput[\"username\"])) {\n        isValid = false;\n        userErrors[\"username\"] = \"Please enter valid username.\";\n        resetForm();\n      }\n    }\n\n    if (!userInput[\"password\"]) {\n      isValid = false;\n      userErrors[\"password\"] = \"Please enter your password.\";\n    }\n\n    if (userInput[\"username\"]) {\n      if (!userInput[\"password\"]) {\n        isValid = false;\n        userErrors[\"password\"] = \"Please enter your password.\";\n      }\n\n      setInput(userInput);\n    }\n\n    setErrors(userErrors);\n    return isValid;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"username\",\n          children: \"Username \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          value: input.username,\n          onChange: handleChange,\n          class: \"form-control\",\n          placeholder: \"Enter username\",\n          id: \"username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-danger\",\n          children: errors.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"password\",\n          children: \"Password \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: input.password,\n          onChange: handleChange,\n          class: \"form-control\",\n          placeholder: \"Enter password\",\n          id: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-danger\",\n          children: errors.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-danger\",\n        children: errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        class: \"btn btn-success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(StudyCntrLogin, \"M/VnnXXlA8EWyP1RXX4rh4fqnGY=\");\n\n_c3 = StudyCntrLogin;\n\nconst NodalDashboard = () => {\n  _s4();\n\n  const Auth = React.useContext(AuthApi);\n\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    Cookies.remove(\"user\");\n    Cookies.remove(\"nodalUser\");\n    Cookies.remove(\"studentFound\");\n    Cookies.remove(\"studentId\");\n    window.studyCntrLoggedIn = false;\n    window.nodalLoggedIn = false;\n    window.homePage = true;\n  };\n\n  var found = false;\n\n  if (Cookies.get(\"studentFound\") === \"true\") {\n    console.log(\"Student found!\");\n    found = true;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Nodal Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this), found ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: Cookies.get(\"studentId\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Display Student Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOnClick,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(NodalDashboard, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c4 = NodalDashboard;\n\nconst StudyCntrDashboard = () => {\n  _s5();\n\n  const Auth = React.useContext(AuthApi);\n  const [studentData, setStudentData] = React.useState([]);\n  const [value, setValue] = React.useState(0);\n\n  const studentDataExists = username => {\n    // api call to get user data\n    return true;\n  };\n\n  const fetchExistingRecords = username => {\n    // Dummy data \n    let data = [{\n      studentId: \"101\",\n      name: \"Parameshwar Reddy\",\n      email: \"parama@jayasyamtheatre.com\",\n      status: \"Payment pending\"\n    }, {\n      studentId: \"102\",\n      name: \"Venkatesh Malimelu\",\n      email: \"venky@gangammatemple.com\",\n      status: \"Payment pending\"\n    }, {\n      studentId: \"103\",\n      name: \"Babaji Shaik\",\n      email: \"babaji@icici.com\",\n      status: \"Payment pending\"\n    }, {\n      studentId: \"104\",\n      name: \"Narasimha Medi\",\n      email: \"narasimha@goldloans.com\",\n      status: \"Payment pending\"\n    }, {\n      studentId: \"105\",\n      name: \"Sunny Leone\",\n      email: \"sunny@ph.com\",\n      status: \"Payment pending\"\n    }];\n  };\n\n  const TabPanel = props => {\n    const {\n      children,\n      value,\n      index\n    } = props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: value === index && /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 13\n    }, this);\n  };\n\n  const handleTabs = (e, val) => {\n    console.warn(\"tab value is \" + val);\n    setValue(val);\n  };\n\n  let userData = [];\n  let userName = \"\";\n  let userFetched = false;\n  let tableSize = 0;\n\n  if (Cookies.get(\"studyCntrUser\") === \"loginTrue\") {\n    userName = Cookies.get(\"username\");\n    console.log(\"fetching user history for \" + userName);\n\n    if (studentDataExists(userName)) {\n      console.log(fetchExistingRecords(userName));\n      userFetched = true;\n      userData = fetchExistingRecords(userName);\n      var key,\n          count = 0;\n\n      for (key in userData) {\n        if (userData.hasOwnProperty(key)) {\n          count++;\n        }\n      }\n\n      console.log(count);\n      tableSize = count;\n    }\n  }\n\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    Cookies.remove(\"user\");\n    Cookies.remove(\"studyCntrUser\");\n    Cookies.remove(\"username\");\n    window.nodalLoggedIn = false;\n    window.studyCntrLoggedIn = false;\n    window.homePage = true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [window.student && /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 28\n      }, this), userFetched ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Welcome \", userName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n          position: \"static\",\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            value: value,\n            onChange: handleTabs,\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Saved Applications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"New Application \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 0,\n          children: /*#__PURE__*/_jsxDEV(BetterUser, {\n            data: userData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 1,\n          children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 24\n      }, this) : /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOnClick,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 456,\n    columnNumber: 5\n  }, this);\n};\n\n_s5(StudyCntrDashboard, \"/fBc+aoxGf2DP/yOfsAA3dSEI5s=\");\n\n_c5 = StudyCntrDashboard;\n\nconst HomeComponent = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"SVUDDE Online Application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 481,\n    columnNumber: 11\n  }, this);\n};\n\n_c6 = HomeComponent;\n\nconst Routes = () => {\n  _s6();\n\n  const Auth = React.useContext(AuthApi);\n  const [value, setValue] = React.useState(0);\n\n  const handleTabs = (e, val) => {\n    console.warn(\"tab value is \" + val);\n    setValue(val);\n  };\n\n  var displayHome = true;\n  var nodalUserVal = Cookies.get(\"nodalUser\");\n  var displayNodal = false;\n\n  if (nodalUserVal) {\n    console.log(\"Set Display Nodal User True\");\n    displayNodal = true;\n    displayHome = false;\n  }\n\n  var studyCntrUserVal = Cookies.get(\"studyCntrUser\");\n  var displayStudyCntr = false;\n\n  if (studyCntrUserVal) {\n    console.log(\"Set Display Study Center User True\");\n    displayStudyCntr = true;\n    displayHome = false;\n  }\n\n  console.log(\"users --> \" + \" Nodal value -> \" + nodalUserVal + \" Study Center value -> \" + studyCntrUserVal);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: [displayNodal && /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleTabs,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Home\",\n          component: Link,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Dashboard\",\n          component: Link,\n          to: \"/nodalDashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 24\n      }, this), displayStudyCntr && /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleTabs,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Home\",\n          component: Link,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Dashboard\",\n          component: Link,\n          to: \"/studyCntrDashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 28\n      }, this), displayHome && /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleTabs,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Home\",\n          component: Link,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Study Center\",\n          component: Link,\n          to: \"/studyCntrLogin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Nodal\",\n          component: Link,\n          to: \"/nodalLogin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"switch\", {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        component: HomeComponent,\n        auth: Auth.auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedStudyCntrLogin, {\n        path: \"/studyCntrLogin\",\n        component: StudyCntrLogin,\n        auth: Auth.auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedNodalLogin, {\n        path: \"/nodalLogin\",\n        component: NodalLogin,\n        auth: Auth.auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedNodalRoute, {\n        path: \"/nodalDashboard\",\n        auth: Auth.auth,\n        component: NodalDashboard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedStudyCntrRoute, {\n        path: \"/studyCntrDashboard\",\n        auth: Auth.auth,\n        component: StudyCntrDashboard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 517,\n    columnNumber: 5\n  }, this);\n};\n\n_s6(Routes, \"SvxOwvnjx/2ucgU1+PdVeTjqNFY=\");\n\n_c7 = Routes;\n\nconst ProtectedStudyCntrRoute = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/studyCntrLogin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 550,\n    columnNumber: 5\n  }, this);\n};\n\n_c8 = ProtectedStudyCntrRoute;\n\nconst ProtectedNodalRoute = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/nodalLogin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 565,\n    columnNumber: 5\n  }, this);\n};\n\n_c9 = ProtectedNodalRoute;\n\nconst ProtectedNodalLogin = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => !auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/nodalDashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 580,\n    columnNumber: 5\n  }, this);\n};\n\n_c10 = ProtectedNodalLogin;\n\nconst ProtectedStudyCntrLogin = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => !auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/studyCntrDashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 594,\n    columnNumber: 5\n  }, this);\n};\n\n_c11 = ProtectedStudyCntrLogin;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"NodalLogin\");\n$RefreshReg$(_c3, \"StudyCntrLogin\");\n$RefreshReg$(_c4, \"NodalDashboard\");\n$RefreshReg$(_c5, \"StudyCntrDashboard\");\n$RefreshReg$(_c6, \"HomeComponent\");\n$RefreshReg$(_c7, \"Routes\");\n$RefreshReg$(_c8, \"ProtectedStudyCntrRoute\");\n$RefreshReg$(_c9, \"ProtectedNodalRoute\");\n$RefreshReg$(_c10, \"ProtectedNodalLogin\");\n$RefreshReg$(_c11, \"ProtectedStudyCntrLogin\");","map":{"version":3,"sources":["/home/discovery/Documents/secure-frontend/src/App.js"],"names":["React","BrowserRouter","Router","Switch","Route","Redirect","Link","AppBar","Tabs","Tab","AuthApi","Cookies","OtpInput","Modal","BetterUser","Home","App","auth","setAuth","useState","readCookie","user","get","console","log","useEffect","NodalLogin","phone","setPhone","errors","setErrors","showModal","setShowModal","modalOpen","setModalOpen","loading","setLoading","displayOtpForm","setDisplayOtpForm","show","setShow","otpSentSessionId","setOtpSentSessionId","studentId","setStudentId","handleSendOTP","endPoint","fetch","then","res","json","data","Details","catch","checkExistingStudent","input","result","ok","set","Auth","resp","JSON","stringify","student_id","verifyOTP","otpReceived","validMobile","staus","Error","status","handleClose","handleShow","useContext","otp","setOtp","handleChange","handleOTPSubmit","handlePhone","e","target","value","StudyCntrLogin","setInput","handleSubmit","event","preventDefault","validate","alert","resetForm","userInput","name","Array","from","document","querySelectorAll","forEach","userErrors","isValid","re","length","test","username","password","NodalDashboard","handleOnClick","remove","window","studyCntrLoggedIn","nodalLoggedIn","homePage","found","StudyCntrDashboard","studentData","setStudentData","setValue","studentDataExists","fetchExistingRecords","email","TabPanel","props","children","index","handleTabs","val","warn","userData","userName","userFetched","tableSize","key","count","hasOwnProperty","student","HomeComponent","Routes","displayHome","nodalUserVal","displayNodal","studyCntrUserVal","displayStudyCntr","ProtectedStudyCntrRoute","component","Component","rest","ProtectedNodalRoute","ProtectedNodalLogin","ProtectedStudyCntrLogin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n  Link\n} from 'react-router-dom';\nimport { AppBar, Tabs, Tab } from '@material-ui/core';\nimport AuthApi from \"./AuthApi\";\nimport Cookies from 'js-cookie';\nimport OtpInput from 'react-otp-input';\nimport Modal from 'react-bootstrap/Modal'\nimport BetterUser from './BetterUser'\nimport Home from './Home';\n\n\nfunction App() {\n  const [auth, setAuth] = React.useState(false);\n\n  const readCookie = () => {\n    const user = Cookies.get(\"user\");\n    console.log(\"user in readCookie --> \" + user);\n    console.log(\"nodalUser in readCookie --> \" + Cookies.get(\"nodalUser\"));\n    console.log(\"studyCntrUser in readCookie --> \" + Cookies.get(\"studyCntrUser\"));\n    if(user) {\n      setAuth(true);\n    }\n  }\n  \n  React.useEffect(() => {\n    readCookie();\n  }, [])\n\n\n  return (\n    <div className=\"App\">\n      <AuthApi.Provider value={{auth,setAuth}}>\n      <Router>\n        <Routes />\n      </Router>\n      </AuthApi.Provider>\n    </div>\n  );\n}\n\n\n\n\nconst NodalLogin = () => {\n\n  const [phone, setPhone] = React.useState(\"\");\n  const [errors, setErrors] = React.useState({});\n  const [showModal, setShowModal] = React.useState(false);\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [displayOtpForm, setDisplayOtpForm] = React.useState(false);\n  const [show, setShow] = React.useState(false);\n  const [otpSentSessionId, setOtpSentSessionId] = React.useState(\"\");\n  const [studentId, setStudentId] = React.useState(\"\");\n\n  async function handleSendOTP() {\n    console.log(\"sending otp to \" + phone);\n    let endPoint = \"https://2factor.in/API/V1/4db73c1e-4cfa-11eb-8153-0200cd936042/SMS/\"\n        + phone + \"/AUTOGEN\";\n    await fetch(endPoint)\n        .then(res => res.json())\n        .then((data) => {\n          setOtpSentSessionId(data.Details);\n        })\n        .catch(console.log)\n    console.log(\"otp sent sessionID >> \" + otpSentSessionId);\n    \n  }\n  \n   function checkExistingStudent(input) {\n    console.log(\"In checkExistingStudent...\")\n    let result = false;\n    let endPoint = \"http://159.203.148.240:8080/api/v1/Student/\" + input;\n     fetch(endPoint)\n        .then(res => {\n          if(!res.ok) {\n            result = false;\n            Cookies.set(\"user\", \"loginTrue\");\n            Cookies.set(\"nodalUser\", \"loginTrue\");\n            Auth.setAuth(true);\n            console.log(\"No Student found with the number \" + input \n                + \" redirecting to new application!\");\n          } else {\n            result = true;\n            console.log(\"Found an existing record with the number \" + input\n                + \" enrolled, fethcing record!\");\n  \n            fetch(\"http://159.203.148.240:8080/api/v1/Student/\" + phone)\n                .then(resp => resp.json())\n                .then((data) => {\n                  console.log(\"Existing student details --> \" + JSON.stringify(data));\n                  setStudentId(data.student_id);\n                  Cookies.set(\"studentFound\", \"true\");\n                  Cookies.set(\"studentId\", data.student_id);\n                  Cookies.set(\"user\", \"loginTrue\");\n                  Cookies.set(\"nodalUser\", \"loginTrue\");\n                  Auth.setAuth(true);\n                })\n          }\n        }\n        ).catch(console.log);\n        return result;\n  }\n  \n   async function verifyOTP(otpReceived) {\n    console.log(otpReceived);\n    let validMobile = false;\n    let endPoint = \"https://2factor.in/API/V1/4db73c1e-4cfa-11eb-8153-0200cd936042/SMS/VERIFY/\"\n        + otpSentSessionId + \"/\" + otpReceived;\n    await fetch(endPoint)\n        .then(res => {\n          console.log(\"otp verification >> \" + res.staus);\n          if(!res.ok) {\n                throw new Error(`HTTP error! status: ${res.status}`);\n            } else {\n                console.log(\"Status: OK\");\n                validMobile = true;\n            }           \n        })\n        .catch(console.log);\n    return validMobile;\n  }\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => {\n    console.log(\"In handleOnClick...\");\n    console.log(\"sending otp\");\n    //handleSendOTP();\n    console.log(\"Otp sent successfully\");\n    setShow(true);\n    \n  }\n\n  \n\n  const Auth = React.useContext(AuthApi);\n  const [otp, setOtp] = React.useState(\"\");\n\n  const handleChange = otp => {\n    setOtp(otp);\n    console.log(\"Otp entered is \" + otp)\n  }\n  \n  const handleOTPSubmit = () => {\n      console.log(\"verify otp\" + otp);\n      \n      // verifyOTP(otp).then(bool => {\n      //   console.log(\"otp valid \" + bool)\n      //   Cookies.set(\"user\", \"loginTrue\");\n      //   Cookies.set(\"nodalUser\", \"loginTrue\");\n      //   Auth.setAuth(true);\n      //   window.nodalLoggedIn = true;\n      //   window.studyCntrLoggedIn = false;\n      //   window.homePage = false;\n      // });\n\n      Cookies.set(\"user\", \"loginTrue\");\n      console.log(Cookies.get(\"user\"));\n      if(Cookies.get(\"user\") == \"loginTrue\") {\n        checkExistingStudent(phone);\n      }\n  }\n\n  const handlePhone = (e) => {\n    setPhone(e.target.value)\n  }\n\n  return (\n    <div>\n      <label>\n        Phone\n        <input\n        type=\"tel\"\n        name=\"phone\"\n        onChange={handlePhone}\n      />\n      </label>\n      <div className=\"form-group\">\n      <>\n      <button variant=\"primary\" onClick={handleShow}>\n        Login\n      </button>\n\n      <Modal size=\"sm\" show={show} onHide={handleClose} \n          aria-labelledby=\"example-modal-sizes-title-sm\">\n        <Modal.Header closeButton>\n          <Modal.Title>Verify OTP</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <OtpInput\n            value={otp}\n            onChange={handleChange}\n            numInputs={6}\n            separator={<span>-</span>}\n          />\n        </Modal.Body>\n        <Modal.Footer>\n          <button variant=\"secondary\" onClick={handleClose}>\n            Change Number\n          </button>\n          <button variant=\"primary\" onClick={handleOTPSubmit}>\n            Submit\n          </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n      </div>\n      \n    </div>\n\n    \n  )\n}\n\nconst StudyCntrLogin = () => {\n  const Auth = React.useContext(AuthApi);\n  const [input, setInput] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if(validate()){\n        alert(\"User Name and Password Entered ->  \" + input[\"username\"]);\n\n        Cookies.set(\"username\", input[\"username\"]);\n\n        Cookies.set(\"user\", \"loginTrue\");\n        Cookies.set(\"studyCntrUser\", \"loginTrue\");\n        Auth.setAuth(true);\n    } else {\n      resetForm();\n    }\n\n  }\n\n  const handleChange = (event) => {\n    let userInput = input;\n    userInput[event.target.name] = event.target.value;\n    setInput(userInput)\n  }\n\n  const resetForm = () => {\n    Array.from(document.querySelectorAll(\"input\")).forEach(\n      input => (input.value = \"\")\n    );\n    setInput({});\n  };\n\n  const validate  = () => {\n    let userInput = input;\n    let userErrors = {};\n    let isValid = true;\n\n    if (!userInput[\"username\"]) {\n        isValid = false;\n        userErrors[\"username\"] = \"Please enter your username.\";\n        resetForm();\n    }\n    \n    if (typeof userInput[\"username\"] !== \"undefined\") {\n        const re = /^\\S*$/;\n        if(userInput[\"username\"].length < 6 || !re.test(userInput[\"username\"])) {\n          isValid = false;\n          userErrors[\"username\"] = \"Please enter valid username.\";\n          resetForm();\n        }\n        \n    }\n    \n    if (!userInput[\"password\"]) {\n      isValid = false;\n      userErrors[\"password\"] = \"Please enter your password.\";\n    }\n\n    if (userInput[\"username\"]){\n      if(!userInput[\"password\"]) {\n        isValid = false;\n        userErrors[\"password\"] = \"Please enter your password.\";\n      }\n      setInput(userInput);\n  }\n\n    setErrors(userErrors);\n    return isValid;\n  }\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n          <div class=\"form-group\">\n            <label for=\"username\">Username </label>\n            <input \n              type=\"text\" \n              name=\"username\" \n              value={input.username}\n              onChange={handleChange}\n              class=\"form-control\" \n              placeholder=\"Enter username\" \n              id=\"username\" />\n          <div className=\"text-danger\">{errors.username}</div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"password\">Password </label>\n            <input \n              type=\"password\" \n              name=\"password\" \n              value={input.password}\n              onChange={handleChange}\n              class=\"form-control\" \n              placeholder=\"Enter password\" \n              id=\"password\" />\n          <div className=\"text-danger\">{errors.username}</div>\n        </div>\n        <div className=\"text-danger\">{errors.password}</div>\n        <input type=\"submit\" value=\"Submit\" class=\"btn btn-success\" />\n      </form>\n    </div>\n  )\n}\n\nconst NodalDashboard = () => {\n  const Auth = React.useContext(AuthApi);\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    Cookies.remove(\"user\");\n    Cookies.remove(\"nodalUser\");\n    Cookies.remove(\"studentFound\");\n    Cookies.remove(\"studentId\");\n    window.studyCntrLoggedIn = false;\n    window.nodalLoggedIn = false;\n    window.homePage = true;\n  }\n\n  \n  var found = false;\n  if(Cookies.get(\"studentFound\") === \"true\") {\n    console.log(\"Student found!\" );\n    found = true;\n  }\n\n  return(\n    <div>\n      <h1>Nodal Dashboard</h1>\n      {found? <div>\n          <h1>{Cookies.get(\"studentId\")}</h1>\n        </div>: <h1>Display Student Form</h1>}\n\n      <button onClick={handleOnClick}>Logout</button>\n    </div>\n  )\n}\n\nconst StudyCntrDashboard = () => {\n  const Auth = React.useContext(AuthApi);\n  const [studentData, setStudentData] = React.useState([]);\n  const [value, setValue] = React.useState(0);\n\n  const studentDataExists = (username) => {\n    // api call to get user data\n    return true;\n  }\n\n  const fetchExistingRecords = (username) => {\n    // Dummy data \n    let data = [{studentId: \"101\",\n      name: \"Parameshwar Reddy\",\n      email: \"parama@jayasyamtheatre.com\",\n      status: \"Payment pending\"\n      },{\n      studentId: \"102\",\n      name: \"Venkatesh Malimelu\",\n      email: \"venky@gangammatemple.com\",\n      status: \"Payment pending\"\n      },{\n      studentId: \"103\",\n      name: \"Babaji Shaik\",\n      email: \"babaji@icici.com\",\n      status: \"Payment pending\"\n      },{\n      studentId: \"104\",\n      name: \"Narasimha Medi\",\n      email: \"narasimha@goldloans.com\",\n      status: \"Payment pending\"\n      },{\n      studentId: \"105\",\n      name: \"Sunny Leone\",\n      email: \"sunny@ph.com\",\n      status: \"Payment pending\"\n    }];\n\n  }\n\n  const TabPanel = (props) => {\n    const {children, value, index} = props;\n    return (<div>\n        {\n            value===index && (\n                <h1>{children}</h1>\n            )\n        }\n            \n        </div>\n    )\n  }\n\n  const handleTabs = (e, val) => {\n    console.warn(\"tab value is \" + val)\n    setValue(val);\n  }\n\n  let userData = [];\n\n  let userName = \"\";\n\n  let userFetched = false;\n\n  let tableSize = 0;\n\n  if(Cookies.get(\"studyCntrUser\") === \"loginTrue\") {\n    userName = Cookies.get(\"username\");\n    console.log(\"fetching user history for \" + userName);\n\n    if(studentDataExists(userName)) {\n        console.log(fetchExistingRecords(userName));\n        userFetched = true;\n        userData = fetchExistingRecords(userName);\n\n        var key, count = 0;\n        for( key in userData) {\n            if(userData.hasOwnProperty(key)) {\n                count++;\n            }\n        }\n\n        console.log(count)\n        tableSize = count;\n    }\n}\n\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    Cookies.remove(\"user\");\n    Cookies.remove(\"studyCntrUser\");\n    Cookies.remove(\"username\");\n    window.nodalLoggedIn = false;\n    window.studyCntrLoggedIn = false;\n    window.homePage = true;\n  }\n  return(\n    <div>\n      <div>\n        {window.student && <Home />}\n        {userFetched ? <div>\n          <h1>Welcome {userName}</h1>\n          <AppBar position=\"static\" >\n              <Tabs value={value} onChange={handleTabs}>\n                <Tab label=\"Saved Applications\" />\n                <Tab label=\"New Application \" />\n              </Tabs>     \n            </AppBar>\n            <TabPanel value={value} index={0}>\n                <BetterUser data={userData} />\n            </TabPanel>\n            <TabPanel value={value} index={1}><Home /></TabPanel>\n            </div>\n            : <Home />}\n            </div>\n      <button onClick={handleOnClick}>Logout</button>\n    </div>\n  )\n}\n\nconst HomeComponent= () => {\n      return(\n          <div>\n            <p>SVUDDE Online Application</p>\n          </div>  \n      )\n}\n\nconst Routes = () => {\n  const Auth = React.useContext(AuthApi);\n  const [value, setValue] = React.useState(0);\n\n  const handleTabs = (e, val) => {\n    console.warn(\"tab value is \" + val)\n    setValue(val);\n\n    \n  }\n  var displayHome = true;\n  var nodalUserVal = Cookies.get(\"nodalUser\");\n  var displayNodal = false;\n  if(nodalUserVal) {\n    console.log(\"Set Display Nodal User True\");\n    displayNodal = true;\n    displayHome = false;\n  }\n\n  var studyCntrUserVal = Cookies.get(\"studyCntrUser\");\n  var displayStudyCntr = false;\n  if(studyCntrUserVal) {\n    console.log(\"Set Display Study Center User True\");\n    displayStudyCntr = true;\n    displayHome = false;\n  }\n\n  console.log(\"users --> \" + \" Nodal value -> \" + nodalUserVal + \" Study Center value -> \" + studyCntrUserVal)\n\n  return(\n    <div>\n    <AppBar position=\"static\" >\n      {displayNodal && <Tabs value={value} onChange={handleTabs} >\n        <Tab label=\"Home\"  component={Link} to=\"/\"/>\n        <Tab label=\"Dashboard\" component={Link} to=\"/nodalDashboard\" />\n      </Tabs>}\n\n      {displayStudyCntr && <Tabs value={value} onChange={handleTabs} >\n        <Tab label=\"Home\"  component={Link} to=\"/\"/>\n        <Tab label=\"Dashboard\" component={Link} to=\"/studyCntrDashboard\" />\n      </Tabs>}\n\n      {displayHome && \n        <Tabs value={value} onChange={handleTabs} >\n        <Tab label=\"Home\"  component={Link} to=\"/\"/>\n        <Tab label=\"Study Center\" component={Link} to=\"/studyCntrLogin\"/>\n        <Tab label=\"Nodal\" component={Link} to=\"/nodalLogin\"/>\n      </Tabs>}\n\n    </AppBar>\n    <switch>\n      <Route path=\"/\" component={HomeComponent} auth={Auth.auth}/>\n      <ProtectedStudyCntrLogin path=\"/studyCntrLogin\" component={StudyCntrLogin} auth={Auth.auth} />\n      <ProtectedNodalLogin path=\"/nodalLogin\" component={NodalLogin} auth={Auth.auth} />\n      <ProtectedNodalRoute path=\"/nodalDashboard\" auth={Auth.auth} component={NodalDashboard} />\n      <ProtectedStudyCntrRoute path=\"/studyCntrDashboard\" auth={Auth.auth} component={StudyCntrDashboard} />\n    </switch>\n    </div>\n  )\n}\n\nconst ProtectedStudyCntrRoute = ({auth, component: Component, ...rest}) => {\n  return(\n    <Route\n    {...rest}\n    render = {() => auth? (\n      <Component />\n      \n    ): (\n      <Redirect to=\"/studyCntrLogin\" />\n    )\n    }\n    />\n  )\n}\n\nconst ProtectedNodalRoute = ({auth, component: Component, ...rest}) => {\n  return(\n    <Route\n    {...rest}\n    render = {() => auth? (\n      <Component />\n      \n    ): (\n      <Redirect to=\"/nodalLogin\" />\n    )\n    }\n    />\n  )\n}\n\nconst ProtectedNodalLogin = ({auth, component: Component, ...rest}) => {\n  return(\n    <Route\n    {...rest}\n    render = {() => !auth? (\n      <Component />\n    ): (\n      <Redirect to=\"/nodalDashboard\" />\n    )\n    }\n    />\n  )\n}\n\nconst ProtectedStudyCntrLogin = ({auth, component: Component, ...rest}) => {\n  return(\n    <Route\n    {...rest}\n    render = {() => !auth? (\n      <Component />\n    ): (\n      <Redirect to=\"/studyCntrDashboard\" />\n    )\n    }\n    />\n  )\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}